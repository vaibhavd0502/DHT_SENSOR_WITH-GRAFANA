    3  sudo dpkg-reconfigure locales
    4  sudo timedatectl set-timezone Asia/Kolkata
    5  date
    6  sudo locale-gen en_IN.UTF-8
    7  sudo update-locale LANG=en_IN.UTF-8
    8  cd /home/pun-admin/
    9  ll
   10  ls
   11  cd temp_monitor/
   12  ll
   13  ls
   14  sudo apt update
   15  sudo apt install python3-adafruit-dht -y
   21  sudo apt install python3-pip 
   25  sudo apt update
   26  sudo apt install python3-adafruit-dht
   27  sudo pip3 install Adafruit_DHT --break-system-packages
   28  python3 temp_sensor.py 
   29  sudo apt update
   30  sudo apt install postgresql postgresql-contrib -y
   31  sudo systemctl status postgresql
   32  sudo systemctl enable postgresql
   33  reboot
   34  sudo reboot
   35  sudo systemctl enable postgresql
   36  sudo systemctl restart postgresql
   37  sudo -u postgres psql
    postgres=# CREATE TABLE public.temp_hum_data (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    data_time TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW(),
    tmp REAL NOT NULL,
    hum REAL NOT NULL,
    sid TEXT NOT NULL,
    CONSTRAINT temp_hum_data_pkey PRIMARY KEY (id),
    CONSTRAINT temp_hum_data_sid_unique UNIQUE (data_time, sid),
    CONSTRAINT temp_hum_data_sid_check CHECK ((LENGTH(sid) < 50))
);
 
   38  cd temp_monitor/
   39  python3 tmpHumDb.py 
   40  sudo apt install psycopg
   41  sudo apt update
   42  sudo apt install python3-psycopg2
   43  sudo apt install python3-psycopg
   44  python3 index.py
   45  sudo -u postgres psql
   
       postgres=# SELECT * FROM temp_hum_data ORDER BY data_time DESC LIMIT 10;
 
   46  crontab -e
       */5 * * * * python3 /home/pun-admin/temp_monitor/index.py
   47  sudo -u postgres psql 
   48  sudo nano /etc/postgresql/17/main/postgresql.conf 
       listen_addresses = '*' 
   49  sudo nano /etc/postgresql/17/main/pg_hba.conf 
        # IPv4 local connections:
         host    all             all             127.0.0.1/32            scram-sha-256
         host    all             all             10.10.18.10/32            scram-sha-256
        # replication privilege.
         local   replication     all                                     peer
         host    replication     all             127.0.0.1/32            scram-sha-256
         host    all             all             10.10.18.10/32            scram-sha-256

   50  sudo systemctl restart postgresql

   57  crontab -e
   58  sudo -u postgres psql 

